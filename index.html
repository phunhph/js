<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
   <div>
    <p>Tên</p>
    <input type="text" id="name" />
    <p>DOB</p>
    <input type="date" id="date" />
    <p>Điểm toán</p>
    <input type="text" id="toan" />
    <p>Điểm lý</p>
    <input type="text" id="ly" />
    <p>Điểm hoá</p>
    <input type="text" id="hoa" />
    <br />
    <br />
    <button id="add">Nhập</buttom>
    <button id="avg">Tính điểm trung bình</button>
    <button id="confirm">Học lực</button>
<br>
   </div> 
    <table style="border: solid">
      <thead>
        <tr>
          <th>Họ Tên</th>
          <th>Ngày sinh</th>
          <th>Điểm toán</th>
          <th>Điểm lý</th>
          <th>Điểm hoá</th>
          <th>Điểm trung bình</th>
          <th>Học lực</th>
        </tr>
      </thead>
      <tbody id="tbody">

      </tbody>
    </table> 
    <script>
    /* thiết lập sự kiện nhập dữ liệu 1 hàng */
    var ClickA = document.getElementById("add");
     ClickA.onclick = Addrow;
    var index = 1;
      //hàm tạo hàng và nhận dữ liệu của hàng
    function Addrow() {
        var tbody = document.getElementById("tbody");
        console.log(tbody);
        //tạo một hàng trong bảng
        var tr1 = document.createElement("tr");
        var tdHoTen = document.createElement("td");
        var tdNgaysinh = document.createElement("td");
        var tdDiemToan = document.createElement("td");
        var tdDiemLY = document.createElement("td");
        var tdDiemHoa = document.createElement("td");
        var tdDiemTB = document.createElement("td");
        var tdHocLuc = document.createElement("td");
        // thiết lập id cho các ô điểm của tường hàng và id của các hàng
        tr1.id = index;
        tdDiemToan.id = "Dtoan" + index;
        tdDiemLY.id = "Dly" + index;
        tdDiemHoa.id = "Dhoa" + index;
        tdDiemTB.id = "Dtb" + index;
        tdHocLuc.id ="HL"+index;
        // thêm ô vào hàng đã được tạo
        tbody.append(tr1)
        tr1.append(tdHoTen);
        tr1.append(tdNgaysinh);
        tr1.append(tdDiemToan);
        tr1.append(tdDiemLY);
        tr1.append(tdDiemHoa);
        tr1.append(tdDiemTB);
        tr1.append(tdHocLuc);
        //đưa dữ liệu từ input vào bảng
        var nhapName =document.getElementById("name").value; 
        tdHoTen.innerHTML= nhapName;
        var ngaySinh =document.getElementById("date").value; 
        tdNgaysinh.innerHTML= ngaySinh;
        var nhapToan =document.getElementById("toan").value; 
        tdDiemToan.innerHTML= nhapToan;
        var nhapLy =document.getElementById("ly").value; 
        tdDiemLY.innerHTML= nhapLy;
        var nhapHoa =document.getElementById("hoa").value; 
        tdDiemHoa.innerHTML= nhapHoa;
        index++;
        }
         // khởi tạo sự kiện tính điểm trung bình
        var ClickTB = document.getElementById("avg");
         ClickTB.onclick = DIemTrungBinh;
        function DIemTrungBinh() {
            for(var i =1 ;i<index;i++){
              var rowtoan =document.getElementById("Dtoan"+i);
                  // console.log(rowtoan.innerHTML)
              var rowly = document.getElementById("Dly"+i);
                  // console.log(rowly.innerHTML)
              var rowhoa = document.getElementById("Dhoa"+i);
                  // console.log(rowhoa.innerHTML)
              var rowDTB = document.getElementById("Dtb"+i)
                  // console.log(rowDTB.innerHTML)
              rowDTB.innerHTML=(rowtoan.innerHTML-(-rowly.innerHTML)-(- rowhoa.innerHTML))/3;
                  // console.log(rowDTB.innerHTML);
            }
          }
        // khởi tạo sự kiện học lực
        var ClickHL = document.getElementById("confirm");
         ClickHL.onclick = HocLuc;
         function HocLuc() {
          for(var i=1;i<index;i++){
            var rowchecl = document.getElementById("Dtb"+i);
            var rowHL = document.getElementById("HL"+i);
            if(10>=rowchecl.innerHTML&&rowchecl.innerHTML>=9){
              rowHL.innerHTML="Xuất sắc";
            } else if(rowchecl.innerHTML>=8){
              rowHL.innerHTML="Giỏi";
            } else if(rowchecl.innerHTML>=6.5){
              rowHL.innerHTML="Khá"
            } else if(rowHL.innerHTML>=5){
              rowHL.innerHTML="Trung bình"
            } else {
              rowHL.innerHTML="Yếu";
          }
         }
        }
    </script>
  </body>
</html>
